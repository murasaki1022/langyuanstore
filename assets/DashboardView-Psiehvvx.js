import{a as r}from"./axios-L6U4YIEh.js";import{_ as d,o as u,c as h,d as n,w as a,e as c,b as t,y as v,r as _}from"./index-Hf4qKoHF.js";var P={VITE_APP_API_URL:"https://vue3-course-api.hexschool.io",VITE_APP_API_NAME:"langyuanstore",BASE_URL:"/langyuanstore/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API_URL:$}=P,x={methods:{signOut(){const s=`${$}/v2/logout`;r.post(s).then(e=>{alert(e.data.message),document.cookie="hexToken=; expires=; path=/",this.$router.push("/")}).catch(e=>{alert(e.response.data.message)})}}},A={class:"d-flex flex-column p-3 text-white bg-dark",style:{width:"250px",height:"100vh",position:"fixed"}},g=t("hr",null,null,-1),k={class:"nav nav-pills flex-column mb-auto"},b={class:"nav-item"},E={class:"nav-item"},I={class:"nav-item"},V={class:"nav-item"},w=t("hr",null,null,-1),R={class:"col-3"};function D(s,e,m,p,f,i){const o=_("router-link");return u(),h("div",A,[n(o,{class:"d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none fs-4",to:"/"},{default:a(()=>[c("返回前台")]),_:1}),g,t("ul",k,[t("li",b,[n(o,{class:"nav-link",to:"/admin/order"},{default:a(()=>[c("訂單列表")]),_:1})]),t("li",E,[n(o,{class:"nav-link",to:"/admin/products"},{default:a(()=>[c("產品列表")]),_:1})]),t("li",I,[n(o,{class:"nav-link",to:"/admin/coupon"},{default:a(()=>[c("優惠卷")]),_:1})]),t("li",V,[n(o,{class:"nav-link",to:"/admin/news"},{default:a(()=>[c("最新消息(最後做)")]),_:1})])]),w,t("div",R,[t("button",{type:"button",class:"btn btn-outline-light btn-sm",onClick:e[0]||(e[0]=v((...l)=>i.signOut&&i.signOut(...l),["prevent"]))},"登出")])])}const T=d(x,[["render",D]]);var N={VITE_APP_API_URL:"https://vue3-course-api.hexschool.io",VITE_APP_API_NAME:"langyuanstore",BASE_URL:"/langyuanstore/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API_URL:U}=N,y={components:{DashboardNavbar:T},methods:{checkAdmin(){const s=`${U}/v2/api/user/check`;r.post(s).then(e=>{this.$router.push("/admin/products")}).catch(e=>{console.log(e),alert(e.response.data.message),this.$router.push("/login")})}},mounted(){const s=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");r.defaults.headers.common.Authorization=s,this.checkAdmin()}},L={class:"container-fluid"},O={class:"row"},S={class:"col-auto col-sm-3 g-0"},B={class:"col-auto col-sm-8"};function M(s,e,m,p,f,i){const o=_("DashboardNavbar"),l=_("router-view");return u(),h("div",L,[t("div",O,[t("div",S,[n(o)]),t("div",B,[n(l)])])])}const j=d(y,[["render",M]]);export{j as default};
