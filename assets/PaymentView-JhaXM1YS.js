import{a}from"./axios-L6U4YIEh.js";import{S as h}from"./sweetalert2.all-LHpgrSOc.js";import{_ as u,c as l,b as t,t as o,F as b,u as m,y as x,o as n}from"./index-65vxoVPP.js";import"./commonjsHelpers-4gQjN7DL.js";var f={VITE_APP_API_URL:"https://vue3-course-api.hexschool.io",VITE_APP_API_NAME:"langyuanstore",BASE_URL:"/langyuanstore/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API_URL:i,VITE_APP_API_NAME:_}=f,y={data(){return{order:{user:{},product:{}},orderProduct:[],orderId:this.$route.params.id}},methods:{getOrder(r){a.get(`${i}/v2/api/${_}/order/${r}`).then(d=>{this.order=d.data.order,console.log(d),this.orderProducts=Object.keys(this.order.products).map(c=>this.order.products[c])})},payOrder(){a.post(`${i}/v2/api/${_}/pay/${this.orderId}`).then(r=>{console.log(r),h.fire(r.data.message),this.$router.push("/payment-complete")})}},mounted(){this.getOrder(this.orderId)}},w={class:"container mt-5"},g={class:"row flex-row-reverse justify-content-center pb-5"},P={class:"col-md-6"},v={class:"border p-4 mb-4"},A={class:"table mt-4 border-top border-bottom text-muted"},E=t("th",{scope:"row",class:"border-0 px-0 pt-4 pb-4 font-weight-normal"},"訂單編號",-1),I={class:"border-0 px-0 pt-4"},O=t("th",{scope:"row",class:"border-0 px-0 pt-0 pb-4 font-weight-normal"},"收件人姓名",-1),V={class:"border-0 px-0 pt-0 pb-4"},S=t("th",{scope:"row",class:"border-0 px-0 pt-0 pb-4 font-weight-normal"},"收件人手機",-1),T={class:"border-0 px-0 pt-0 pb-4"},k=t("th",{scope:"row",class:"border-0 px-0 pt-0 pb-4 font-weight-normal"},"收件人Email",-1),N={class:"border-0 px-0 pt-0 pb-4"},R=t("th",{scope:"row",class:"border-0 px-0 pt-0 pb-4 font-weight-normal"},"收件人地址",-1),B={class:"border-0 px-0 pt-0 pb-4"},D=t("th",{scope:"row",class:"border-0 px-0 pt-0 pb-4 font-weight-normal"},"備註",-1),L={class:"border-0 px-0 pt-0 pb-4"},M=t("tr",null,[t("th",{scope:"row",class:"border-0 px-0 pt-0 pb-4 font-weight-normal"},"付款狀態"),t("td",{class:"border-0 px-0 pt-0 pb-4"},"未付款")],-1),$={class:"col-md-4"},U={class:"table table-hover"},j=t("thead",null,[t("tr",null,[t("th",{scope:"col",class:"border-0 ps-0 text-center"},"品名"),t("th",{scope:"col",class:"border-0"},"數量"),t("th",{scope:"col",class:"border-0 text-end"},"小計")])],-1),F={class:"py-3"},q={class:"py-3 border-0 align-middle"},C={class:"py-3 border-0 align-middle",style:{"max-width":"160px"}},z={class:"mb-0 ms-auto text-end"},G=t("td",null,null,-1),H=t("td",null,null,-1),J={class:"py-3 text-end"};function K(r,d,c,Q,s,p){return n(),l("div",w,[t("div",g,[t("div",P,[t("div",v,[t("table",A,[t("tbody",null,[t("tr",null,[E,t("td",I,o(s.order.id),1)]),t("tr",null,[O,t("td",V,o(s.order.user.name),1)]),t("tr",null,[S,t("td",T,o(s.order.user.tel),1)]),t("tr",null,[k,t("td",N,o(s.order.user.email),1)]),t("tr",null,[R,t("td",B,o(s.order.user.address),1)]),t("tr",null,[D,t("td",L,o(s.order.message),1)]),M])])])]),t("div",$,[t("table",U,[j,t("tbody",null,[(n(!0),l(b,null,m(s.order.products,e=>(n(),l("tr",{class:"border-bottom border-top",key:e.id},[t("td",F,o(e.product.title),1),t("td",q,o(e.qty)+"/ "+o(e.product.unit),1),t("td",C,[t("p",z,"NT$ "+o(e.total),1)])]))),128))]),t("tfoot",null,[t("tr",null,[G,H,t("td",J,"總計：NT$ "+o(s.order.total),1)])])]),t("button",{type:"submit",class:"btn btn-primary w-100 mt-4",onClick:d[0]||(d[0]=x((...e)=>p.payOrder&&p.payOrder(...e),["prevent"]))},"確認付款")])])])}const tt=u(y,[["render",K]]);export{tt as default};
